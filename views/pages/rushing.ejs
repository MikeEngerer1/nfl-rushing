<!DOCTYPE html>
<html>

    <head>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
        <script src="scripts/sorttable.js"></script>
        <link rel="shortcut icon" type="image/png" href="img/favicon.png"/>
        <link rel="stylesheet" href="css/rushing.css">
        <link rel="stylesheet" href="css/normalize.css">
        <title>NFL Rushing</title>
    </head>
    <body>
      <h1 class="title">NFL Rushing Statistics</h1>
      <input id="search-value" type="text" placeholder="Player Name">
      <button id="search" type="submit">Search</button>
      <table class="styled-table sortable">
        <thead>
          <tr>
            <% for (let i = 0; i < templateData.headers.length; i++) { %>
              <th data-field="<%= templateData.headers[i].header %>" 
                class="<%= templateData.headers[i].sortable ? 'sortable' : 'sorttable_nosort' %>">
                  <%= templateData.headers[i].header %>
              </th>
            <% } %>
          </tr>
        </thead>
        <tbody>
          <% for (let i = 0; i < templateData.rows.length; i++) { %>
            <tr>
              <% for (let j = 0; j < templateData.rows[i].length; j++) { %>
                <td data-field="<%= templateData.headers[j].header %>" ><%= templateData.rows[i][j] %></td>            
              <% } %>
            </tr>
          <% } %>
        </tbody>
      </table>
    </body>
    <script type="text/javascript">

      $(document).ready(() => {
        const queryParams = window.location.search;
        $('#search').click(e => {
          // e.preventDefault();
          const value = $('#search-value').val();
          console.log(value)
          if (!value) return;
          window.location.href = `/rushing?player=${value}`;
        })
      })

    </script>
</html>